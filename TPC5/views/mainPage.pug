extends layout

block content
  .w3-card-4
    header.w3-container.w3-red
        h2 Editar Tarefa
        h3 
            button.w3-btn.w3-pale-red #[a(herf="/") Voltar ao Início]
    .w3-container.w3-cell
      button.w3-btn.w3-purple #[a(herf="/users/create") Adicionar Utilizador]
      form.w3-container.w3-card-4.w3-blue(method="POST")
        fieldset
            legend Tarefa
            input(type="hidden" name="id" value=tID)
            label Descrição da tarefa
            input.w3-input.w3-border(type="text" name="desc")
            label Qual a data limite?
            input.w3-input.w3-border(type="date" name="due")
            label Quem a irá realizar?
            select.w3-select(name="who")
                option(value="" disabled selected) Escolha uma pessoa...
                    each u in utilizadores
                        option.w3-center #[u.id]
            input(type="hidden" name="done" value=false)
                 
            button.w3-btn.w3-green.w3-mb-2(type="submit") Enviar

    .w3-container.w3-cell.w3-border(style="width:50%")
    	h2 Tarefas por fazer:
		each t in tarefas
			.w3-container.w3-border
				p
					.w3-right-align #[a(herf="/tasks/edit/"+t.id) Editar]
					.w3-right-align #[a(herf="/tasks/delete/"+t.id) Apagar]
					.w3-right-align #[a(herf="/tasks/done/"+t.id) Feito]
				p Descrição: #{t.desc}
				p Responsável: #{t.who}
				p Data Limite: #{t.due}

	.w3-container.w3-cell.w3-border(style="width:50%")
    	h2 Tarefas feitas:
		each t in tarefas
			.w3-container.w3-border
				p.w3-right-align #[a(herf="/tasks/delete/"+t.id) Apagar]
				p Descrição: #{t.desc}
				p Responsável: #{t.who}
				p Data Limite: #{t.due}			
              
    footer.w3-container.w3-yellow
        h5 João Loureiro - a97257 | Engenharia Web 2023 - Universidade do Minho
        h5 Generated by server: #{d}
    